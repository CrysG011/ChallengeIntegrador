<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CARRITO</title>
    <link rel="icon" href="../../isotype.ico">
    <link href="https://cdn.jsdelivr.net/npm/swiffy-slider@1.6.0/dist/css/swiffy-slider.min.css" rel="stylesheet"
        crossorigin="anonymous">
    <link rel="stylesheet" href="../../css/style.min.css">
</head>

<body>
    <%- include("./partials/header-shop") %>
        <main class="carro__empty container">
            <h1 class="carro__title">CARRITO DE COMPRAS</h1>
            <h2 class="mainlogin__title">Tu carrito se encuentra vacío... Pero puedes llenarlo con los siguientes
                productos!</h2>
            <div
                class="swiffy-slider slider-item-show3 slider-nav-outside slider-nav-round slider-nav-visible slider-indicators-outside slider-indicators-round slider-indicators-dark slider-nav-animation slider-nav-animation-slow slider-item-first-visible">
                <h3 class="slider__title">ÚLTIMOS LANZAMIENTOS</h3>
                <div class="slider-container py-4">
                    <% for (let i=0; i < productosRecientes.length; i++) {%>
                        <article class="slide-visible">
                            <a class="card-item__link card shadow h-100"
                                href="./shop/item/<%= productosRecientes[i].id %>">
                                <span class="card-item__tag">Nuevo</span>
                                <picture class="ratio ratio-16x9 card-item__cover">
                                    <% if (productosRecientes[i] && productosRecientes[i].id) { %>
                                        <img class="card-item__img--front"
                                            src="/uploads/<%= productosRecientes[i].id %>-1.webp" loading="lazy"
                                            alt="Figura coleccionable <%= productosRecientes[i].product_name.toUpperCase() %>" />
                                        <img class="card-item__img--back"
                                            src="/uploads/<%= productosRecientes[i].id %>-box.webp" loading="lazy"
                                            alt="Figura coleccionable <%= productosRecientes[i].product_name.toUpperCase() %>">
                                        <% } else { %>
                                            <!-- item por defecto si no se encuentra productosRecientes[i] o sus atributos por un imprevisto -->
                                            <img class="card-item__img--front" src="/uploads/default.webp"
                                                alt="Imagen por defecto" />
                                            <% } %>
                                </picture>
                                <div class="card-body p-3 p-xl-5 card-item__content">
                                    <% if (productosRecientes[i] && productosRecientes[i].CategoryId) { %>
                                        <p class="card-item__licence">
                                            <%= ((categorias.find(categoria=> categoria.id ===
                                                productosRecientes[i].CategoryId))?.category_name).toUpperCase() %>
                                        </p>
                                        <% } else { %>
                                            <p class="card-item__licence">Sin Categoría</p>
                                            <% } %>
                                                <% if (productosRecientes[i] && productosRecientes[i].product_name) { %>
                                                    <h4 class="card-item__name">
                                                        <%= productosRecientes[i].product_name.toUpperCase() %>
                                                    </h4>
                                                    <% } else { %>
                                                        <h4 class="card-item__name">Sin Nombre</h4>
                                                        <% } %>
                                                            <% if (productosRecientes[i] && productosRecientes[i].price)
                                                                { %>
                                                                <p class="card-item__price">$<%=
                                                                        productosRecientes[i].price %>
                                                                </p>
                                                                <% } else { %>
                                                                    <p class="card-item__price">Precio Desconocido
                                                                    </p>
                                                                    <% } %>
                                                                        <% if (productosRecientes[i] &&
                                                                            productosRecientes[i].dues) { %>
                                                                            <p class="card-item__promo">
                                                                                <%= productosRecientes[i].dues.toUpperCase()
                                                                                    %>
                                                                            </p>
                                                                            <% } else { %>
                                                                                <p class="card-item__promo">
                                                                                    Promoción
                                                                                    Desconocida</p>
                                                                                <% } %>
                                </div>
                            </a>
                        </article>
                        <% } %>
                </div>
                <button type="button" class="slider-nav" aria-label="Go left"></button>
                <button type="button" class="slider-nav slider-nav-next" aria-label="Go left"></button>
                <div class="slider-indicators">
                    <button class="active" aria-label="Go to slide"></button>
                    <button aria-label="Go to slide"></button>
                    <button aria-label="Go to slide"></button>
                    <button aria-label="Go to slide"></button>
                    <button aria-label="Go to slide"></button>
                </div>
            </div>
        </main>
        <%- include("./partials/footer-shop") %>
            <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.8/dist/iconify-icon.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/swiffy-slider@1.6.0/dist/js/swiffy-slider.min.js"
                crossorigin="anonymous" defer></script>
</body>

</html>